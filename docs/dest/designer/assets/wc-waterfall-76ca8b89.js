function a(t,e,s,r){if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?r:s==="a"?r.call(t):r?r.value:e.get(t)}function h(t,e,s,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(t,s):o?o.value=s:e.set(t,s),s}function O(t,e){e===void 0&&(e={});var s=e.insertAt;if(!(!t||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",s==="top"&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}var j=`wc-waterfall {\r
  position: relative;\r
  display: block;\r
  box-sizing: content-box !important;\r
}\r
      \r
wc-waterfall > * {\r
  position: absolute;\r
  box-sizing: border-box;\r
}\r
`;O(j);function L(t){let e=0;for(let s=0;s<t.length;s++)e=t[e]<=t[s]?e:s;return e}function I(t,{getW:e,setW:s,getH:r,setH:o,getPad:C,setX:k,setY:A,getChildren:H},{cols:w,gap:p}){const[m,M,v,_]=C(t),u=H(t),E=u.length;if(E){const x=(e(t)-p*(w-1)-(_+M))/w;Array.prototype.forEach.call(u,i=>s(i,x));const P=Array.prototype.map.call(u,i=>r(i)),g=Array(w).fill(m);for(let i=0;i<E;i++){const T=u[i],b=L(g);A(T,g[b]),k(T,_+(x+p)*b),g[b]+=P[i]+p}o(t,Math.max(...g)-p+v)}else o(t,m+v)}var y,n,f,l,c,W;class d extends HTMLElement{constructor(){super(),y.add(this),Object.defineProperty(this,"_fl_w",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fl_h",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),n.set(this,void 0),f.set(this,void 0),l.set(this,void 0),c.set(this,!1)}get gap(){return+(this.getAttribute("gap")||d.default_props.gap)}set gap(e){this.setAttribute("gap",e+"")}get cols(){return+(this.getAttribute("cols")||d.default_props.cols)}set cols(e){this.setAttribute("cols",e+"")}connectedCallback(){h(this,n,new ResizeObserver(e=>e.some(({target:s})=>s._fl_w!=s.offsetWidth||s._fl_h!=s.offsetHeight)&&this.relayout()),"f"),a(this,n,"f").observe(this),Array.prototype.forEach.call(this.children,e=>a(this,n,"f").observe(e)),this.relayout(),h(this,f,new MutationObserver(e=>{e.forEach(s=>{s.addedNodes.forEach(r=>r instanceof HTMLElement&&a(this,n,"f").observe(r)),s.removedNodes.forEach(r=>r instanceof HTMLElement&&a(this,n,"f").unobserve(r))}),this.relayout()}),"f"),a(this,f,"f").observe(this,{childList:!0,attributes:!1}),h(this,l,new MutationObserver(()=>this.relayout()),"f"),a(this,l,"f").observe(this,{childList:!1,attributes:!0})}disconnectedCallback(){a(this,n,"f").disconnect(),a(this,f,"f").disconnect(),a(this,l,"f").disconnect()}relayout(){a(this,c,"f")||(h(this,c,!0,"f"),requestAnimationFrame(()=>{a(this,y,"m",W).call(this),h(this,c,!1,"f")}))}}n=new WeakMap,f=new WeakMap,l=new WeakMap,c=new WeakMap,y=new WeakSet,W=function(){I(this,{getW:t=>t.offsetWidth,setW:(t,e)=>t.style.width=e+"px",getH:t=>(t._fl_w=t.offsetWidth,t._fl_h=t.offsetHeight),setH:(t,e)=>t.style.height=e+"px",getPad:t=>{const e=getComputedStyle(t);return[parseInt(e.paddingTop),parseInt(e.paddingRight),-parseInt(e.paddingTop),parseInt(e.paddingLeft)]},setX:(t,e)=>t.style.left=e+"px",setY:(t,e)=>t.style.top=e+"px",getChildren:t=>t.children},{cols:this.cols,gap:this.gap}),this._fl_w=this.offsetWidth,this._fl_h=this.offsetHeight,a(this,l,"f").takeRecords()},Object.defineProperty(d,"default_props",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze({cols:2,gap:4})}),customElements.define("wc-waterfall",d);export{d as Waterfall};
