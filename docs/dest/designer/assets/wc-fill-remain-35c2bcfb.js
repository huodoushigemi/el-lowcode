const v=e=>e instanceof HTMLElement;function g(e,t,s){const n=Object.assign(document.createElement(e),t);return s&&n.replaceChildren(...s),n}function k(e){for(;e=e.parentElement;){const{overflowY:t}=getComputedStyle(e);if(t==="auto"||t==="scroll")return e}return e||window}var E=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)},i=(e,t,s)=>(E(e,t,"read from private field"),s?s.call(e):t.get(e)),r=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},l=(e,t,s,n)=>(E(e,t,"write to private field"),n?n.call(e,s):t.set(e,s),s),a,o,h,d,m,u,p,f;document.head.appendChild(g("style",{innerHTML:"wc-fill-remain{display:block}"}));class y extends HTMLElement{constructor(){super(...arguments),r(this,d),r(this,a,void 0),r(this,o,void 0),r(this,h,void 0),r(this,u,!1),r(this,p,async()=>{i(this,u)||(l(this,u,!0),await Promise.resolve(),i(this,f).call(this),requestAnimationFrame(()=>l(this,u,!1)))}),r(this,f,()=>{this.style.minHeight="0",this.style.height="0";const t=g("div");i(this,d,m).appendChild(t);const s=t.getBoundingClientRect();t.remove();const n=v(i(this,a))?i(this,a).getBoundingClientRect().bottom:Math.max(window.innerHeight,document.documentElement.getBoundingClientRect().bottom);this.style.minHeight=s.top>n?"":`${n-s.top-parseInt(getComputedStyle(i(this,d,m)).paddingBottom)}px`,this.style.height="",i(this,h).takeRecords()})}connectedCallback(){l(this,a,k(this)),l(this,o,new ResizeObserver(i(this,p))),i(this,o).observe(i(this,d,m));const t=[...i(this,d,m).children];t.forEach(n=>i(this,o).observe(n)),l(this,h,new MutationObserver(n=>{let w=!0;n.forEach(b=>{w&&(w=!b.addedNodes.length),b.addedNodes.forEach(c=>v(c)&&(i(this,o).observe(c),s(c))),b.removedNodes.forEach(c=>v(c)&&i(this,o).unobserve(c))}),w&&i(this,p).call(this)})),i(this,h).observe(i(this,d,m),{childList:!0,attributes:!0});const s=n=>i(this,h).observe(n,{attributes:!0});t.forEach(s),window.addEventListener("resize",i(this,p))}disconnectedCallback(){l(this,a,void 0),i(this,o).disconnect(),i(this,h).disconnect(),window.removeEventListener("resize",i(this,p))}}a=new WeakMap,o=new WeakMap,h=new WeakMap,d=new WeakSet,m=function(){return v(i(this,a))?i(this,a):document.body},u=new WeakMap,p=new WeakMap,f=new WeakMap,customElements.define("wc-fill-remain",y);export{y as FillRemain};
